<html>
    <head>
        <title>Catch Bulbasaur</title>
        <link rel="stylesheet" href="style.css">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
        <script src="ar-components.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    </head>
    <body>
        <a-scene webxr="optionalFeatures:hit-test;" cursor="rayOrigin:mouse">
            <a-assets timeout="30000">
                <a-asset-item id="bulbasaur" src="assets/toto.glb"></a-asset-item>
            </a-assets>

            <a-camera position="0 1.2 0"></a-camera>

            <a-entity environment="preset: forest; dressingAmount: 500" hide-in-ar-mode></a-entity>

            <a-entity id="character" position="-1 0 -3" scale="1 1 1">
                <a-entity position="0 0 0" rotation="0 270 0"
                          gltf-model="#bulbasaur"
                          scale="0.5 0.5 0.5" ar-hit-test></a-entity>
            </a-entity>
            <a-sky color="#ECECEC" hide-in-ar-mode></a-sky>
            <a-entity light="type: ambient; intensity: 0.5;"></a-entity>
            <a-light type="directional"
                     light="castShadow: true;
                            shadowMapHeight: 1024;
                            shadowMapWidth: 1024;
                            shadowCameraLeft: -7;
                            shadowCameraRight: 5;
                            shadowCameraBottom: -5;
                            shadowCameraTop: 5;"
                     id="light"
                     target="character"
                     position="2 3 1.5"></a-light>
      
            <!-- This shadow-receiving plane is only visible in AR mode. -->
            <a-plane height="15" width="15" position="0 0 -3" rotation="-90 0 0"
                     shadow="receive: true"
                     ar-shadows="opacity: 0.3"
                     visible="false"></a-plane>    
        </a-scene>
    </body>
</html>